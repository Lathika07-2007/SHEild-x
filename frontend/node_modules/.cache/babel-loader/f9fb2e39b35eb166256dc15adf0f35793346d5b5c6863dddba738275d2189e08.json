{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MOUNIKA\\\\Desktop\\\\Hackathon\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Map from './components/Map';\nimport Sidebar from './components/Sidebar';\nimport LocationSearch from './components/LocationSearch';\nimport RouteInstructions from './components/RouteInstructions';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  const [startPoint, setStartPoint] = useState(null);\n  const [endPoint, setEndPoint] = useState(null);\n  const [route, setRoute] = useState(null);\n  const [routeStats, setRouteStats] = useState(null);\n  const [routeInstructions, setRouteInstructions] = useState(null);\n  const [safeHavens, setSafeHavens] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [mode, setMode] = useState('balanced');\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [savedLocations, setSavedLocations] = useState([]);\n  useEffect(() => {\n    fetchSafeHavens();\n  }, []);\n  const fetchSafeHavens = async () => {\n    try {\n      const res = await axios.get(`${API_BASE}/safe-havens`);\n      setSafeHavens(res.data.havens);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const findRoute = async () => {\n    if (!startPoint || !endPoint) {\n      alert('Please select start and end points');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API_BASE}/route-with-instructions`, {\n        start: startPoint,\n        end: endPoint,\n        mode\n      });\n      setRoute(res.data.path);\n      setRouteStats(res.data.statistics);\n      setRouteInstructions(res.data.instructions);\n      setShowInstructions(true);\n    } catch (error) {\n      alert('Error finding route');\n    }\n    setLoading(false);\n  };\n  const handleMapClick = (type, latlng) => {\n    const point = {\n      lat: latlng.lat,\n      lon: latlng.lng\n    };\n    if (type === 'start') setStartPoint(point);else if (type === 'end') setEndPoint(point);\n  };\n  const clearRoute = () => {\n    setRoute(null);\n    setRouteStats(null);\n    setRouteInstructions(null);\n    setShowInstructions(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      startPoint: startPoint,\n      endPoint: endPoint,\n      routeStats: routeStats,\n      mode: mode,\n      setMode: setMode,\n      onFindRoute: findRoute,\n      onClearRoute: clearRoute,\n      loading: loading,\n      safeHavens: safeHavens\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-containers\",\n        children: [/*#__PURE__*/_jsxDEV(LocationSearch, {\n          onLocationSelect: latlng => handleMapClick('start', latlng),\n          placeholder: \"Search start location...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LocationSearch, {\n          onLocationSelect: latlng => handleMapClick('end', latlng),\n          placeholder: \"Search destination...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-instructions-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Map, {\n            center: [11.0168, 76.9558],\n            zoom: 13,\n            startPoint: startPoint,\n            endPoint: endPoint,\n            route: route,\n            safeHavens: safeHavens\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), showInstructions && routeInstructions && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"instructions-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-instructions\",\n            onClick: () => setShowInstructions(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RouteInstructions, {\n            routeStats: routeStats,\n            instructions: routeInstructions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"u3ZIO8QfB+PqmrNRayYd9ox/+uQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Map","Sidebar","LocationSearch","RouteInstructions","axios","jsxDEV","_jsxDEV","API_BASE","App","_s","startPoint","setStartPoint","endPoint","setEndPoint","route","setRoute","routeStats","setRouteStats","routeInstructions","setRouteInstructions","safeHavens","setSafeHavens","loading","setLoading","mode","setMode","showInstructions","setShowInstructions","savedLocations","setSavedLocations","fetchSafeHavens","res","get","data","havens","error","console","findRoute","alert","post","start","end","path","statistics","instructions","handleMapClick","type","latlng","point","lat","lon","lng","clearRoute","className","children","onFindRoute","onClearRoute","fileName","_jsxFileName","lineNumber","columnNumber","onLocationSelect","placeholder","center","zoom","onClick","_c","$RefreshReg$"],"sources":["C:/Users/MOUNIKA/Desktop/Hackathon/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Map from './components/Map';\r\nimport Sidebar from './components/Sidebar';\r\nimport LocationSearch from './components/LocationSearch';\r\nimport RouteInstructions from './components/RouteInstructions';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE = 'http://localhost:5000/api';\r\n\r\nfunction App() {\r\n  const [startPoint, setStartPoint] = useState(null);\r\n  const [endPoint, setEndPoint] = useState(null);\r\n  const [route, setRoute] = useState(null);\r\n  const [routeStats, setRouteStats] = useState(null);\r\n  const [routeInstructions, setRouteInstructions] = useState(null);\r\n  const [safeHavens, setSafeHavens] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mode, setMode] = useState('balanced');\r\n  const [showInstructions, setShowInstructions] = useState(false);\r\n  const [savedLocations, setSavedLocations] = useState([]);\r\n\r\n  useEffect(() => { fetchSafeHavens(); }, []);\r\n\r\n  const fetchSafeHavens = async () => {\r\n    try { const res = await axios.get(`${API_BASE}/safe-havens`); setSafeHavens(res.data.havens); } \r\n    catch (error) { console.error('Error:', error); }\r\n  };\r\n\r\n  const findRoute = async () => {\r\n    if (!startPoint || !endPoint) { alert('Please select start and end points'); return; }\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post(`${API_BASE}/route-with-instructions`, { start: startPoint, end: endPoint, mode });\r\n      setRoute(res.data.path);\r\n      setRouteStats(res.data.statistics);\r\n      setRouteInstructions(res.data.instructions);\r\n      setShowInstructions(true);\r\n    } catch (error) { alert('Error finding route'); }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleMapClick = (type, latlng) => {\r\n    const point = { lat: latlng.lat, lon: latlng.lng };\r\n    if (type === 'start') setStartPoint(point);\r\n    else if (type === 'end') setEndPoint(point);\r\n  };\r\n\r\n  const clearRoute = () => {\r\n    setRoute(null);\r\n    setRouteStats(null);\r\n    setRouteInstructions(null);\r\n    setShowInstructions(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Sidebar\r\n        startPoint={startPoint}\r\n        endPoint={endPoint}\r\n        routeStats={routeStats}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        onFindRoute={findRoute}\r\n        onClearRoute={clearRoute}\r\n        loading={loading}\r\n        safeHavens={safeHavens}\r\n      />\r\n      \r\n      <div className=\"main-content\">\r\n        <div className=\"search-containers\">\r\n          <LocationSearch onLocationSelect={(latlng) => handleMapClick('start', latlng)} placeholder=\"Search start location...\" />\r\n          <LocationSearch onLocationSelect={(latlng) => handleMapClick('end', latlng)} placeholder=\"Search destination...\" />\r\n        </div>\r\n        \r\n        <div className=\"map-instructions-container\">\r\n          <div className=\"map-wrapper\">\r\n            <Map\r\n              center={[11.0168, 76.9558]}\r\n              zoom={13}\r\n              startPoint={startPoint}\r\n              endPoint={endPoint}\r\n              route={route}\r\n              safeHavens={safeHavens}\r\n            />\r\n          </div>\r\n          \r\n          {showInstructions && routeInstructions && (\r\n            <div className=\"instructions-wrapper\">\r\n              <button className=\"close-instructions\" onClick={() => setShowInstructions(false)}>Ã—</button>\r\n              <RouteInstructions routeStats={routeStats} instructions={routeInstructions} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}